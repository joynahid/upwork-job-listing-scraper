FROM golang:1.21

WORKDIR /app

# Copy go files
COPY go.mod go.sum main.go ./

# Download dependencies and build
RUN go mod download && go build -o api main.go

# Create directory for SQLite database
RUN mkdir -p /app/sqlite_data

# Expose port
EXPOSE 8080

# Run the application
CMD ["./api"]
